(()=>{let e,n=null,t=!1,a={},o=[],c=[],l=!0,i=!0,s=!0,m=!0;const r=e=>Math.floor(Math.random()*e),d=async(t,a,o)=>{if(console.log(l+i+s+m),a)if(l+i+s+m==1)e.removeEventListener("click",B),e.removeChild(e.firstChild);else{if(n.component===t){for(;n.component===t;)f();e.removeEventListener("click",B),await k(),e.removeChild(e.firstChild),await u()}p(t),o.target.className="componentBtnPressed"}else h(t),E(),n.score=0,o.target.className="componentBtn"},p=e=>{o=o.filter((n=>n.component!==e))},h=e=>{c.forEach((n=>{n.component===e&&o.push(n)}))},g=e=>new Promise(((n,t)=>{try{e.onload=()=>{v(e),n()}}catch(e){console.log(e),t(e)}})),E=()=>{o.forEach((e=>{e.score=1}))},C=e=>{o.forEach((n=>{n.score+=e}))},f=()=>{let e=0,t=0,a=0;o.forEach((n=>{e+=n.score})),t=r(e);for(let e=0;e<o.length;e++)if(a+=o[e].score,a>t)return C(1),o[e].score=0,void(n=o[e]);console.log("new rank selection methode didnt find rank"),n=o[r(o.length)]},v=e=>{e.className="rankImage"},k=async()=>{let e=[],t=new Image;e.push(g(t)),t.src=n.image;let o=new Image;e.push(g(o)),o.src=n.imageKleur,await Promise.all(e),a.image=t,a.imageColor=o},u=async()=>{let n=document.createElement("DIV");e.addEventListener("click",w),t?n.appendChild(a.imageColor):n.appendChild(a.image),e.appendChild(n)},w=()=>{let t=e.firstChild;e.removeEventListener("click",w);let a=document.createElement("P");a.innerText=`${n.graad}`,a.className="graadText";let o=document.createElement("P");o.innerText=`${n.component}`,o.className="componentText";let c=document.createElement("P");c.innerText=`"${n.aanspreeknaam}"`,c.className="aanspreekText",t.appendChild(a),t.appendChild(o),t.appendChild(c),e.addEventListener("click",B)},B=async()=>{e.removeEventListener("click",B),f(),await k(),e.removeChild(e.firstChild),await u()};window.addEventListener("load",(async()=>{e=document.getElementById("rank"),document.getElementById("colorBtn").addEventListener("click",(()=>{t=!t,e.firstChild.replaceChild(t?a.imageColor:a.image,e.firstChild.getElementsByTagName("img")[0])})),document.getElementsByClassName("componentBtn")[0].addEventListener("click",(e=>{d("Landcomponent",l,e),l=!l})),document.getElementsByClassName("componentBtn")[1].addEventListener("click",(e=>{d("Medische component",i,e),i=!i})),document.getElementsByClassName("componentBtn")[2].addEventListener("click",(e=>{d("Luchtcomponent",s,e),s=!s})),document.getElementsByClassName("componentBtn")[3].addEventListener("click",(e=>{d("Marinecomponent",m,e),m=!m})),o=await(await fetch("data.json")).json(),c=o,E(),f(),await k(),await u()}))})();