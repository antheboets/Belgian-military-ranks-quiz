(()=>{let e,a=null,t=!1,n={};const l=e=>Math.floor(Math.random()*e),d=e=>(a,t)=>{try{e.onload((()=>{c(e)})),a()}catch(e){t(e)}},i=e=>{data.forEach((a=>{a.score+=e}))},r=()=>{let e=0,t=0,n=0;data.forEach((a=>{e+=a.score})),t=l(e);for(let e=0;e<data.length;e++)if(n+=data[e].score,n>t)return i(1),data[e].score=0,void(a=data[e]);console.log("new rank selection methode didnt find rank"),a=data[l(data.length)]},c=e=>{e.className="rankImage"},o=async()=>{let e=[],t=new Image;e.push(d(t)),t.src=a.image;let l=new Image;e.push(d(l)),l.src=a.imageKleur,await Promise.all(e),n.image=t,n.imageColor=l},m=async()=>{let a=document.createElement("DIV");e.addEventListener("click",s),t?a.appendChild(n.imageColor):a.appendChild(n.image),e.appendChild(a)},s=()=>{let t=e.firstChild;e.removeEventListener("click",s);let n=document.createElement("P");n.innerText=`${a.graad}`,n.className="graadText";let l=document.createElement("P");l.innerText=`${a.component}`,l.className="componentText";let d=document.createElement("P");d.innerText=`"${a.aanspreeknaam}"`,d.className="aanspreekText",t.appendChild(n),t.appendChild(l),t.appendChild(d),e.addEventListener("click",g)},g=async()=>{e.removeEventListener("click",g),r(),await o(),e.removeChild(e.firstChild),await m()};window.addEventListener("load",(async()=>{e=document.getElementById("rank"),document.getElementById("colorBtn").addEventListener("click",(()=>{t=!t,(()=>{let a=e.firstChild,l=a.getElementsByTagName("img")[0];t?a.replaceChild(n.imageColor,l):a.replaceChild(n.image,l),a.getElementsByTagName("img")[0].className="rankImage"})()})),data=await(await fetch("data.json")).json(),data.forEach((e=>{e.score=1})),r(),await o(),await m()}))})();